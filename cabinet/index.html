<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–∏–∑–∏—Ç–ò–ò ‚Äî –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Golos+Text:wght@400;500;600;700;800&family=Inter:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="cabinet.css">
</head>

<body>
    <!-- ========== AUTH SCREENS ========== -->
    <div id="auth-screen" class="auth-screen">
        <div class="auth-card">
            <div class="auth-logo">
                <span class="logo-icon">ü§ñ</span>
                <h1>–í–∏–∑–∏—Ç–ò–ò</h1>
                <p class="auth-subtitle">AI-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –¥–ª—è –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞</p>
            </div>

            <!-- Login Form -->
            <form id="login-form" class="auth-form" onsubmit="return false;">
                <h2>–í—Ö–æ–¥</h2>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="login-email" placeholder="email@company.ru" required>
                </div>
                <div class="form-group">
                    <label>–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="login-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>
                <button type="submit" class="btn-primary" onclick="handleLogin()">–í–æ–π—Ç–∏</button>
                <p class="auth-switch">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" onclick="showRegister()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
                <div id="login-error" class="error-msg hidden"></div>
            </form>

            <!-- Register Form -->
            <form id="register-form" class="auth-form hidden" onsubmit="return false;">
                <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
                <div class="form-group">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏</label>
                    <input type="text" id="reg-company" placeholder="–°–∞–ª–æ–Ω –ê–≤—Ä–æ—Ä–∞" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="reg-email" placeholder="email@company.ru" required>
                </div>
                <div class="form-group">
                    <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="tel" id="reg-phone" placeholder="+7 (999) 123-45-67" required>
                </div>
                <div class="form-group">
                    <label>–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="reg-password" placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤" required>
                </div>
                <button type="submit" class="btn-primary" onclick="handleRegister()">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
                <p class="auth-switch">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" onclick="showLogin()">–í–æ–π—Ç–∏</a></p>
                <div id="register-error" class="error-msg hidden"></div>
            </form>
        </div>
    </div>

    <!-- ========== DASHBOARD ========== -->
    <div id="dashboard" class="dashboard hidden">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-logo">
                <span>ü§ñ</span> –í–∏–∑–∏—Ç–ò–ò
            </div>
            <nav class="sidebar-nav">
                <button class="nav-item active" data-section="overview" onclick="showSection('overview')">
                    üìä –û–±–∑–æ—Ä
                </button>
                <button class="nav-item" data-section="staff" onclick="showSection('staff')">
                    üë• –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏
                </button>
                <button class="nav-item" data-section="services" onclick="showSection('services')">
                    üìã –£—Å–ª—É–≥–∏
                </button>
                <button class="nav-item" data-section="schedule" onclick="showSection('schedule')">
                    üïê –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
                </button>
                <button class="nav-item" data-section="bookings" onclick="showSection('bookings')">
                    üìÖ –ó–∞–ø–∏—Å–∏
                </button>
                <button class="nav-item" data-section="feedback" onclick="showSection('feedback')">
                    üí¨ –û—Ç–∑—ã–≤—ã
                </button>
                <button class="nav-item" data-section="support" onclick="showSection('support')">
                    üì® –û–±—Ä–∞—â–µ–Ω–∏—è
                </button>
                <button class="nav-item" data-section="settings" onclick="showSection('settings')">
                    ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                </button>
            </nav>
            <div class="sidebar-footer">
                <button class="nav-item logout" onclick="handleLogout()">üö™ –í—ã–π—Ç–∏</button>
            </div>
        </aside>

        <!-- Main content -->
        <main class="main-content">
            <!-- Header -->
            <header class="top-bar">
                <div class="top-bar-left">
                    <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>
                    <h2 id="section-title">–û–±–∑–æ—Ä</h2>
                </div>
                <div class="top-bar-right">
                    <span id="owner-name" class="owner-name"></span>
                    <div class="mode-toggle" id="mode-toggle">
                        <button class="mode-btn active" data-mode="team" onclick="setMode('team')">üë• –ö–æ–º–∞–Ω–¥–∞</button>
                        <button class="mode-btn" data-mode="solo" onclick="setMode('solo')">üë§ –ß–∞—Å—Ç–Ω—ã–π –º–∞—Å—Ç–µ—Ä</button>
                    </div>
                </div>
            </header>

            <!-- Sections -->
            <div class="content-area">

                <!-- Overview -->
                <section id="section-overview" class="section">
                    <div class="stats-grid">
                        <div class="stat-card accent-purple">
                            <div class="stat-icon">üìÖ</div>
                            <div class="stat-value" id="stat-bookings-today">0</div>
                            <div class="stat-label">–ó–∞–ø–∏—Å–µ–π —Å–µ–≥–æ–¥–Ω—è</div>
                        </div>
                        <div class="stat-card accent-blue">
                            <div class="stat-icon">üë•</div>
                            <div class="stat-value" id="stat-staff-count">0</div>
                            <div class="stat-label">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</div>
                        </div>
                        <div class="stat-card accent-green">
                            <div class="stat-icon">üìã</div>
                            <div class="stat-value" id="stat-services-count">0</div>
                            <div class="stat-label">–£—Å–ª—É–≥</div>
                        </div>
                        <div class="stat-card accent-orange">
                            <div class="stat-icon">üí¨</div>
                            <div class="stat-value" id="stat-feedback-count">0</div>
                            <div class="stat-label">–û—Ç–∑—ã–≤–æ–≤</div>
                        </div>
                    </div>
                    <div class="card">
                        <h3>üîó –°—Å—ã–ª–∫–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤</h3>
                        <div class="link-share">
                            <input type="text" id="bot-link" readonly class="link-input">
                            <button class="btn-copy" onclick="copyLink()">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                        </div>
                        <p class="hint">–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —ç—Ç–æ–π —Å—Å—ã–ª–∫–æ–π —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏ ‚Äî –æ–Ω–∏ –ø–æ–ø–∞–¥—É—Ç –≤ –≤–∞—à–µ–≥–æ AI-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</p>
                    </div>
                </section>

                <!-- Staff -->
                <section id="section-staff" class="section hidden">
                    <div class="section-header">
                        <h3>üë• –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</h3>
                        <button class="btn-primary btn-sm" onclick="showAddStaff()">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                    </div>
                    <div id="staff-list" class="items-list"></div>

                    <!-- Add Staff Modal -->
                    <div id="modal-staff" class="modal hidden">
                        <div class="modal-content">
                            <h3 id="staff-modal-title">–î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</h3>
                            <div class="form-group">
                                <label>–ò–º—è</label>
                                <input type="text" id="staff-name" placeholder="–ê–Ω–Ω–∞ –°–º–∏—Ä–Ω–æ–≤–∞">
                            </div>
                            <div class="form-group">
                                <label>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ / –î–æ–ª–∂–Ω–æ—Å—Ç—å</label>
                                <input type="text" id="staff-role" placeholder="–°—Ç–∏–ª–∏—Å—Ç, –ú–∞—Å—Å–∞–∂–∏—Å—Ç...">
                            </div>
                            <div class="modal-actions">
                                <button class="btn-secondary" onclick="closeModal('modal-staff')">–û—Ç–º–µ–Ω–∞</button>
                                <button class="btn-primary" onclick="saveStaff()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Services -->
                <section id="section-services" class="section hidden">
                    <div class="section-header">
                        <h3>üìã –£—Å–ª—É–≥–∏</h3>
                        <button class="btn-primary btn-sm" onclick="showAddService()">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                    </div>
                    <div id="services-list" class="items-list"></div>

                    <!-- Add Service Modal -->
                    <div id="modal-service" class="modal hidden">
                        <div class="modal-content">
                            <h3>–î–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥—É</h3>
                            <div class="form-group">
                                <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                                <input type="text" id="service-name" placeholder="–°—Ç—Ä–∏–∂–∫–∞ –∂–µ–Ω—Å–∫–∞—è">
                            </div>
                            <div class="form-group">
                                <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                                <input type="text" id="service-desc" placeholder="–ú—ã—Ç—å—ë, —Å—Ç—Ä–∏–∂–∫–∞, —É–∫–ª–∞–¥–∫–∞">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>–¶–µ–Ω–∞ (‚ÇΩ)</label>
                                    <input type="number" id="service-price" placeholder="2500" min="0">
                                </div>
                                <div class="form-group">
                                    <label>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω)</label>
                                    <input type="number" id="service-duration" placeholder="60" min="5">
                                </div>
                            </div>
                            <div class="modal-actions">
                                <button class="btn-secondary" onclick="closeModal('modal-service')">–û—Ç–º–µ–Ω–∞</button>
                                <button class="btn-primary" onclick="saveService()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Schedule -->
                <section id="section-schedule" class="section hidden">
                    <div class="section-header">
                        <h3>üïê –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h3>
                        <button class="btn-primary btn-sm" onclick="showAddSchedule()">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                    </div>
                    <div id="schedule-list" class="items-list"></div>

                    <!-- Add Schedule Modal -->
                    <div id="modal-schedule" class="modal hidden">
                        <div class="modal-content">
                            <h3>–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h3>
                            <div class="form-group" id="schedule-staff-group">
                                <label>–°–æ—Ç—Ä—É–¥–Ω–∏–∫</label>
                                <select id="schedule-staff-select">
                                    <option value="">‚Äî –û–±—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å–∞ ‚Äî</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏</label>
                                <select id="schedule-day">
                                    <option value="0">–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</option>
                                    <option value="1">–í—Ç–æ—Ä–Ω–∏–∫</option>
                                    <option value="2">–°—Ä–µ–¥–∞</option>
                                    <option value="3">–ß–µ—Ç–≤–µ—Ä–≥</option>
                                    <option value="4">–ü—è—Ç–Ω–∏—Ü–∞</option>
                                    <option value="5">–°—É–±–±–æ—Ç–∞</option>
                                    <option value="6">–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ</option>
                                </select>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>–ù–∞—á–∞–ª–æ</label>
                                    <input type="time" id="schedule-start" value="09:00">
                                </div>
                                <div class="form-group">
                                    <label>–ö–æ–Ω–µ—Ü</label>
                                    <input type="time" id="schedule-end" value="18:00">
                                </div>
                            </div>
                            <div class="modal-actions">
                                <button class="btn-secondary" onclick="closeModal('modal-schedule')">–û—Ç–º–µ–Ω–∞</button>
                                <button class="btn-primary" onclick="saveSchedule()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Bookings -->
                <section id="section-bookings" class="section hidden">
                    <div class="section-header">
                        <h3>üìÖ –ó–∞–ø–∏—Å–∏</h3>
                        <div class="filters">
                            <input type="date" id="bookings-date-filter" onchange="loadBookings()">
                            <select id="bookings-staff-filter" onchange="loadBookings()">
                                <option value="">–í—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</option>
                            </select>
                        </div>
                    </div>
                    <!-- Calendar view for Team mode -->
                    <div id="calendar-view" class="calendar-view"></div>
                    <!-- List view for Solo mode -->
                    <div id="bookings-list" class="items-list"></div>
                </section>

                <!-- Feedback -->
                <section id="section-feedback" class="section hidden">
                    <div class="section-header">
                        <h3>üí¨ –ß—Ç–æ —Ö–æ—Ç—è—Ç –∫–ª–∏–µ–Ω—Ç—ã</h3>
                    </div>
                    <div id="feedback-list" class="items-list"></div>
                </section>

                <!-- Support Tickets -->
                <section id="section-support" class="section hidden">
                    <div class="section-header">
                        <h3>üì® –û–±—Ä–∞—â–µ–Ω–∏—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É</h3>
                        <div class="support-filters">
                            <button class="filter-btn active" data-filter="new" onclick="filterSupport('new')">üÜï
                                –ù–æ–≤—ã–µ</button>
                            <button class="filter-btn" data-filter="groups" onclick="filterSupport('groups')">üìÇ
                                –ì—Ä—É–ø–ø—ã</button>
                            <button class="filter-btn" data-filter="resolved" onclick="filterSupport('resolved')">‚úÖ
                                –†–µ—à—ë–Ω–Ω—ã–µ</button>
                            <button class="filter-btn" data-filter="all" onclick="filterSupport('all')">üìã –í—Å–µ</button>
                        </div>
                    </div>
                    <div id="support-stats" class="support-stats"></div>
                    <div id="support-content" class="items-list"></div>

                    <!-- Resolve Group Modal -->
                    <div id="modal-resolve" class="modal hidden">
                        <div class="modal-content">
                            <h3>‚úÖ –£–≤–µ–¥–æ–º–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
                            <p class="hint">–û–ø–∏—à–∏—Ç–µ, –∫–∞–∫ –±—ã–ª–∞ —Ä–µ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞. –≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤—Å–µ–º
                                –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≥—Ä—É–ø–ø—ã.</p>
                            <div class="form-group">
                                <label>–ì—Ä—É–ø–ø–∞</label>
                                <input type="text" id="resolve-group-key" readonly class="link-input">
                            </div>
                            <div class="form-group">
                                <label>–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º</label>
                                <textarea id="resolve-note" rows="3"
                                    placeholder="–ü—Ä–æ–±–ª–µ–º–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏..."></textarea>
                            </div>
                            <div class="modal-actions">
                                <button class="btn-secondary" onclick="closeModal('modal-resolve')">–û—Ç–º–µ–Ω–∞</button>
                                <button class="btn-primary" onclick="submitResolveGroup()">üì© –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏
                                    –∑–∞–∫—Ä—ã—Ç—å</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Settings -->
                <section id="section-settings" class="section hidden">
                    <div class="card">
                        <h3>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∏–∑–Ω–µ—Å–∞</h3>
                        <div class="form-group">
                            <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                            <input type="text" id="settings-name">
                        </div>
                        <div class="form-group">
                            <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                            <textarea id="settings-desc" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <label>–ê–¥—Ä–µ—Å</label>
                            <input type="text" id="settings-address">
                        </div>
                        <div class="form-group">
                            <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
                            <input type="tel" id="settings-phone">
                        </div>
                        <div class="form-group">
                            <label>–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ AI</label>
                            <textarea id="settings-welcome" rows="3"
                                placeholder="–ß—Ç–æ —Å–∫–∞–∂–µ—Ç –±–æ—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞"></textarea>
                        </div>
                        <div class="form-group">
                            <label>–û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç</label>
                            <input type="color" id="settings-color" value="#6C5CE7">
                        </div>
                        <button class="btn-primary" onclick="saveSettings()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Feedback floating button -->
    <button id="feedback-fab" class="feedback-fab" onclick="showFeedbackForm()">
        üí° –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ, —á—Ç–æ —É–ª—É—á—à–∏—Ç—å!
    </button>

    <!-- Feedback modal -->
    <div id="modal-feedback" class="modal hidden">
        <div class="modal-content feedback-modal">
            <h3>üí° –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</h3>
            <p class="hint">–ü–æ–º–æ–≥–∏—Ç–µ –Ω–∞–º —Å—Ç–∞—Ç—å –ª—É—á—à–µ! –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –≤–∞–º –Ω—Ä–∞–≤–∏—Ç—Å—è –∏–ª–∏ —á—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å.</p>
            <div class="feedback-types">
                <button class="feedback-type-btn active" data-type="idea" onclick="selectFeedbackType('idea')">üí°
                    –ò–¥–µ—è</button>
                <button class="feedback-type-btn" data-type="bug" onclick="selectFeedbackType('bug')">üêõ –ë–∞–≥</button>
                <button class="feedback-type-btn" data-type="inconvenient"
                    onclick="selectFeedbackType('inconvenient')">üò§ –ù–µ—É–¥–æ–±–Ω–æ</button>
            </div>
            <div class="form-group">
                <textarea id="feedback-text" rows="4" placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É –∏–¥–µ—é –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—É..."></textarea>
            </div>
            <div class="modal-actions">
                <button class="btn-secondary" onclick="closeModal('modal-feedback')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn-primary" onclick="submitFeedback()">üì© –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="cabinet.js"></script>
</body>

</html>